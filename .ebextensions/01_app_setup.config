files:
  "/etc/gcp/gcp_credentials.json":
    mode: "000600"
    owner: root
    group: root
    content: |
      {"placeholder": "true"}

commands:
  01_create_gcp_dir:
    command: "mkdir -p /etc/gcp"
  02_download_creds:
    command: "aws s3 cp s3://pagematch-private-bucket/gcp-credentials.json /etc/gcp/gcp_credentials.json"
    ignoreErrors: false
  03_set_permissions:
    command: "chmod 644 /etc/gcp/gcp_credentials.json"

option_settings:
  aws:elasticbeanstalk:application:environment:
    GOOGLE_APPLICATION_CREDENTIALS: /etc/gcp/gcp_credentials.json
    GOOGLE_AI_PROJECT_ID: gen-lang-client-0644455582
    GOOGLE_AI_LOCATION: us-central1
    GOOGLE_AI_MODEL: gemini-1.5-flash