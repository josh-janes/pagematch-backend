# CORS origin mapping
map $http_origin $cors_origin {
    default "";
    "~^https?://localhost:3000$" $http_origin;
    "~^https?://localhost:5000$" $http_origin;
    "~^https?://localhost:5173$" $http_origin;
    "~^https://pagematch\.ca$" $http_origin;
    "~^https://www\.pagematch\.ca$" $http_origin;
    "~^https://api\.pagematch\.ca$" $http_origin;
}